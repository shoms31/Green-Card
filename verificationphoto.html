<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!---code pour changer le favicon----->
    <link rel="shortcut icon" type="image/x-icon" href="media/favicon.ico">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <title>Verifier votre photo</title>
</head>

<body>
    <nav id="navbar" class="navbar navbar-expand bg-primary navbar-light">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="media/emblem.svg" class="img-fluid" width="50px">
            </a>
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link text-uppercase fw-bold text-light" href="#">USA GREEN CARD LOTTERY</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">

    <div class="row" >
      <div class="col">
        <div class="card">
          <div class="card-body">
            <h1 class="text-center" style="margin-top: 12px">
              Vérificateur de photo de loterie DV
            </h1>
            <p style="text-align: center;">
              Cet outil vérifie si votre photo répond à toutes les exigences
              en matière de photo de la Green Card Lottery.
            </p>

            <div class="row" style="margin-top: 18px">
              <div class="col-sm-3">
                <div class="" id="divCanvasParent" style="padding-top: 8px; display: none">
                  <canvas id="imCanvas" class="float-right img-thumbnail" width="200" height="200"
                    style="max-width: 100%; max-height: 200px"></canvas>
                </div>
              </div>
              <div class="col-sm-9" id="divUploadResult" style="display: none">
                <div class="card">
                  <div class="card-header">
                    Résultat du vérificateur de photo
                  </div>
                  <div class="card-body">
                    <ul class="text-danger fa-ul" style="display: none; list-style-type: none"></ul>
                    <ul class="text-warning fa-ul" style="display: none; list-style-type: none"></ul>
                    <ul class="text-success fa-ul" style="display: none; list-style-type: none"></ul>
                  </div>
                  <div class="card-footer text-muted">
                    Divulgation: les agents des visas du département d'État
                    des États-Unis peuvent refuser la photo à leur discrétion.
                    Ce contrôle vérifie simplement que la photo répond aux
                    exigences, ses résultats sont non officiels.
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <div id="divUploadProgressParent" class="alert alert-info" style="margin-top: 8px; display: none">
                  <p id="pProgressCaption">
                    La photo est en cours de chargement ...
                  </p>
                  <div class="progress" id="divUploadProgress" tabindex="100">
                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                      style="width: 0"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="divUploadError" tabindex="-1" role="dialog" aria-labelledby="divUploadErrorLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header bg-danger text-white">
            <h5 class="modal-title" id="divUploadErrorLabel">
              Erreur de téléchargement
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">
            Une erreur de réseau ou de serveur est survenue, veuillez
            réessayer dans 5 minutes.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">
              Ferme
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="card alert alert-dark">
      <div class="card-body">
        <div>
          <h3>Obtenez une photo correcte de la loterie DV</h3>
          <p>
            Obtenez une photo correcte pour la loterie de la carte verte
            (programme DV) en ligne sur VisaFoto.com, répondant à toutes les
            exigences officielles et garantie d'être acceptée. Ne manquez pas
            votre chance à cause d'une photo ratée. Visafoto.com est le
            principal service en ligne pour les photos de visa américain, les
            photos de la loterie DV et les photos de passeport américain qui
            ont aidé des centaines de milliers de personnes avec leur photo.
          </p>
          <p>
            <a class="btn btn-success btn-lg" href="https://fr.visafoto.com/diversity-visa-lottery-photo">
              <i class="fas fa-camera"></i> Cliquez pour commencer
              <i class="fas fa-chevron-right"></i>
            </a>
          </p>
        </div>
      </div>
    </div>

    <footer class="border-top">
    <div class="container py-5">
      <span><a href="participation.html">Comment participer à la Dv Lottery</a></span>
      <span><a href="index.html">Bien comprendre la Dv</a></span>
      <span><a href="augmentationChance.html">Augmenter vos chances d'être séléctioné</a></span>
      <span><a href="etatcivil.html">Le statut civil</a></span>
      <span><a href="numerodeconfirmation.html">Code de confirmation perdu</a></span>
      <span><a href="formulaire.html">Entraînez-vous à bien remplir le formulaire</a></span>
      <span><a href="ds260.html">Remplir le formulaire de demande DS-260</a></span>
      <span>
        <a href="faq.html">Tout savoir sur la Dv Lottery</a>
      </span>
      <span>
        <a href="emploisadmissible.html">Liste des emplois admissible à la Dv Lottery</a>
      </span>
      <span><a href="medical.html">Passez l'examen médical</a></span>
      <span><a href="depense.html">Tout savoir sur les dépenses</a></span>
    </div>
    </footer>
  </div>
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/popper-1.14.3.min.js"></script>
  <script src="js/bootstrap-4.1.3.min.js"></script>

  <script type="text/javascript" src="js/jquery-ui-1.10.3.custom.min.js"></script>
  <script type="text/javascript" src="js/jquery.iframe-transport_fileupload.min.js"></script>
  <script type="text/javascript">
    function UploadUI() {
      var isFileInputSupported = (function () {
        var el = document.createElement("input");
        el.type = "file";
        return !el.disabled;
      })();
      if (!isFileInputSupported) {
        return;
      }

      var UPLOAD_PERCENT = 100;
      var MAX_PROCESSING = 100;

      var divUploadBox = $("#divUpload");
      var progressInterval = null;

      function uploadError(result) {
        if (result && result.code == 500) {
          var $div = $("#divUploadError");
          $div.find("div.modal-body").text(result.errors[0]);
          $div.modal("show");
          return false;
        }
        return showResult(result);
      }

      function showResult(result) {
        $div = $("#divUploadResult div.card-body");
        $div.find("ul").css("display", "none");
        if (!result) {
          return false;
        }
        function fillSection(list, className, icon) {
          var $ul, i, $li;
          if (!list) {
            return;
          }
          $ul = $div.find("ul." + className);
          $ul.empty();
          for (i = 0; i < list.length; i++) {
            $li = $("<li></li>");
            $('<span class="fa-li"></span>').appendTo($li).append(icon);
            $("<span></span>")
              .appendTo($li)
              .text(" " + list[i]);
            $ul.append($li);
          }
          if (list.length) {
            $ul.css("display", "block");
          }
        }
        fillSection(
          result.errors,
          "text-danger",
          '<i class="fas fa-times-circle"></i>'
        );
        fillSection(
          result.warnings,
          "text-warning",
          '<i class="far fa-question-circle"></i>'
        );
        fillSection(
          result.ok,
          "text-success",
          '<i class="far fa-check-square"></i>'
        );
        $("#divUploadResult").css("display", "block");

        var bad =
          (result.errors && result.errors.length) ||
          (result.warnings && result.warnings.length);
        $("#divFixPhotoErrors").css("display", bad ? "block" : "none");

        return false;
      }

      function createProgress() {
        $("#divCanvasParent").css("display", "block");
        $("#divUploadProgressParent").css("display", "block").alert();
        $("#divUploadProgress").focus();
      }

      function restoreButton() {
        document
          .getElementById("inputImageFile")
          .addEventListener("change", updateImage);
        $("#divUploadProgressParent").css("display", "none");
        $("#spanUploadButton").css("display", "inline-block");
      }

      $("#inputImageFile").fileupload({
        sequentialUploads: true,
        url: "/checker-upload",
        dataType: "json",
        fail: function (e, data) {
          restoreButton();
          var m = null;
          if (
            data._response &&
            data._response.jqXHR &&
            data._response.jqXHR.responseText
          ) {
            try {
              m = JSON.parse(data._response.jqXHR.responseText);
            } catch (err) {
              // do nothing
            }
          }
          uploadError(m);
          return false;
        },
        done: function (e, data) {
          restoreButton();
          showResult(data.result);
          return false;
        },
        add: function (e, data) {
          createProgress();
          $("#spanUploadButton").css("display", "none");
          data.submit();
          return false;
        },
        progress: function (e, data) {
          var progress = Math.round(
            (data.loaded / data.total) * UPLOAD_PERCENT
          );
          $("#divUploadProgress .progress-bar").css("width", progress + "%");
        },
      });

      var canvas = document.getElementById("imCanvas");
      var ctx = canvas.getContext("2d");
      function updateImage() {
        if (!(this.files && this.files[0])) {
          return;
        }
        var fr = new FileReader();
        fr.onload = function (e) {
          var img = new Image();
          img.src = e.target.result;
          img.onload = function () {
            var max = 200;
            var w = img.width;
            var h = img.height;
            if (w == h) {
              w = h = max;
            } else {
              var r = (w * 1.0) / h;
              h = max;
              w = Math.round(r * h);
            }
            ctx.width = w;
            ctx.height = h;
            ctx.clearRect(0, 0, max, max);
            ctx.drawImage(img, 0, 0, w, h);
            document
              .getElementById("inputImageFile")
              .addEventListener("change", updateImage);
          };
        };
        fr.readAsDataURL(this.files[0]);
      }
      document
        .getElementById("inputImageFile")
        .addEventListener("change", updateImage);
    }

    $(function () {
      UploadUI();
    });
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="js/js"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "UA-52274102-14");
  </script>
</body>

</html>